<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>æ¶²æ…‹æ’ç‰ˆå¤¢å‘ç¶²ç«™ç¤ºç¯„ v14</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&display=swap');
    html, body { height: 100%; margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Noto Serif TC', serif;
      background: linear-gradient(120deg, #f2e9e4 0%, #c9ada7 100%);
      min-height: 100vh;
    }
    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 210px;
      height: 100vh;
      background: #4a4e69ee;
      box-shadow: 2px 0 12px #22223b22;
      color: #fff;
      padding-top: 2.2rem;
      z-index: 200;
      transition: transform 0.3s, width 0.3s;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }
    .sidebar.collapsed {
      transform: translateX(-100%);
      width: 0;
      padding: 0;
      overflow: hidden;
    }
    .sidebar h2 {
      font-size: 1.18em;
      margin: 0 0 1em 1.3em;
      letter-spacing: 1.5px;
      color: #f2e9e4;
      white-space: nowrap;
    }
    .sidebar nav {
      display: flex;
      flex-direction: column;
      gap: 0.2em;
      margin-left: 1.2em;
      width: 100%;
    }
    .sidebar nav a {
      color: #f2e9e4;
      text-decoration: none;
      padding: 0.5em 0.9em;
      border-radius: 18px 0 0 18px;
      font-weight: bold;
      margin-right: 1.5em;
      transition: background 0.2s, color 0.2s;
      display: block;
      width: 83%;
      box-sizing: border-box;
    }
    .sidebar nav a.active, .sidebar nav a:hover {
      background: #c9ada7;
      color: #22223b;
    }
    .toggle-btn {
      position: fixed;
      top: 1.5em;
      left: 222px;
      z-index: 210;
      width: 32px;
      height: 32px;
      background: #c9ada7;
      border-radius: 50%;
      border: none;
      box-shadow: 0 2px 8px #22223b33;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: left 0.3s;
    }
    .sidebar.collapsed + .toggle-btn {
      left: 10px;
    }
    .toggle-btn:active { background: #9a8c98; }
    .toggle-btn svg { width: 22px; height: 22px; fill: #4a4e69; transition: transform 0.3s; }
    /* ç®­é ­æ—‹è½‰å‹•ç•« */
    .toggle-btn .arrow.collapsed {
      transform: rotate(180deg);
    }
    .toggle-btn .arrow.expanded {
      transform: rotate(0deg);
    }

    /* ====== é€™è£¡æ˜¯èªè¨€åˆ‡æ›æŒ‰éˆ•çš„æ–°ä½ç½®è¨­è¨ˆ ====== */
    .lang-switcher {
      position: fixed;
      bottom: 22px;
      right: 22px;
      z-index: 9999;
      background: #f2e9e4;
      color: #4a4e69;
      border-radius: 14px;
      padding: 0.45em 1.25em;
      box-shadow: 0 2px 8px #22223b22;
      font-size: 1.08em;
      cursor: pointer;
      border: none;
      font-weight: bold;
      transition: background 0.18s, color 0.18s, box-shadow 0.18s;
      outline: none;
      min-width: 72px;
      opacity: 0.96;
      pointer-events: auto;
    }
    .lang-switcher:active, .lang-switcher:focus {
      background: #c9ada7;
      color: #fff;
      box-shadow: 0 4px 16px #22223b33;
    }
    @media (max-width: 600px) {
      .lang-switcher {
        bottom: 10px;
        right: 8px;
        font-size: 1em;
        padding: 0.38em 1em;
        min-width: 60px;
      }
    }

    .fluid-container {
      display: flex;
      min-height: 100vh;
      align-items: flex-start;
      transition: margin 0.3s;
    }
    .fluid-container.with-sidebar { margin-left: 210px; }
    .fluid-container.no-sidebar { margin-left: 0; }

    .main-wrap-align {
      display: flex;
      width: 100%;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      transition: all 0.3s;
    }
    .main-content {
      max-width: 860px;
      min-width: 290px;
      padding: 2.2rem 2.5rem 2.5rem 2.5rem;
      background: #fffdfaee;
      border-radius: 20px;
      box-shadow: 0 8px 32px #22223b22;
      margin: 2.5vh 1vw 2vh 1vw;
      flex: 1 1 860px;
      transition: margin 0.3s;
      box-sizing: border-box;
      z-index: 1;
    }

    /* ==== å°å·¥å…·å´æ¬„å¯¬åº¦èª¿æ•´é–‹å§‹ ==== */
    .toolsbar {
      width: 300px;
      min-width: 200px;
      max-width: 380px;
      background: #f2e9e4e8;
      border-radius: 20px;
      box-shadow: 0 4px 18px #22223b21;
      overflow-x: hidden;
      overflow-y: auto;
      padding: 1.1em 1.4em 1.3em 1.4em;
      display: flex;
      flex-direction: column;
      gap: 1.2em;
      position: sticky;
      top: 2em;
      z-index: 3;
      margin: 2.5vh 2vw 2vh 2vw;
      transition: all 0.3s;
    }
    .toolsbar.hide { display:none !important; }
    .toolsbar-row {
      display: flex;
      flex-direction: row;
      gap: 2.2em;
      margin: 2.5vh 2vw 2vh 2vw;
      transition: all 0.3s;
    }
    .toolsbar-row .toolsbar {
      margin: 0;
      position: static;
      top: auto;
    }
    /* ==== å°å·¥å…·å´æ¬„å¯¬åº¦èª¿æ•´çµæŸ ==== */

    .tool-card {
      background: #fffdfaee;
      box-shadow: 0 2px 8px #22223b22;
      border-radius: 14px;
      padding: 1em 0.7em 1em 0.7em;
      margin: 0;
      font-size: 0.99em;
      box-sizing: border-box;
      word-break: break-all;
    }
    .tool-card h3 {
      font-size: 1.02em;
      margin: 0 0 0.6em 0;
      color: #4a4e69;
      letter-spacing: 1px;
      font-weight: bold;
      text-align: center;
    }
    .tool-card table {
      width: 100%;
      table-layout: fixed;
      border-collapse: collapse;
      font-size: 1em;
      margin: 0.5em 0;
    }
    .tool-card th, .tool-card td {
      border: 1px solid #c9ada7;
      text-align: center;
      padding: 0.4em 0;
      height: 2.1em;
      vertical-align: middle;
      width: calc(100% / 7);
      box-sizing: border-box;
      background: #fffdfaee;
    }
    .tool-card th { background: #ede4d5; color: #4a4e69; font-weight: bold; }
    .tool-card td.today {
      background: #c9ada7 !important;
      color: #fff !important;
      font-weight: bold;
      border-radius: 7px;
    }
    .align-bar {
      text-align: right;
      margin: 2.3rem 2.5vw 1.2em 0;
      padding-left: 210px;
      transition: padding-left 0.3s;
    }
    .align-bar.no-sidebar {padding-left:0;}
    .align-bar button {
      background: #c9ada7;
      color: #4a4e69;
      border: none;
      border-radius: 14px;
      padding: 0.5em 1.1em;
      margin-left: 0.4em;
      font-weight: bold;
      cursor: pointer;
      font-size: 1em;
      transition: background 0.18s, color 0.18s;
      outline: none;
    }
    .align-bar button.active,
    .align-bar button:hover {
      background: #4a4e69;
      color: #fff;
    }
    .mini-btn {
      background: #c9ada7;
      color: #4a4e69;
      border-radius: 10px;
      border: none;
      padding: 0.4em 0.8em;
      margin-top:0.4em;
      margin-bottom:0.2em;
      cursor: pointer;
      font-size:0.97em;
      transition: background 0.18s, color 0.18s;
    }
    .mini-btn:hover { background: #4a4e69; color: #fff; }
    .tool-card input, .tool-card select {
      font-size: 1em;
      border-radius: 8px;
      border: 1px solid #c9ada7;
      padding: 0.3em 0.7em;
      margin: 0.2em 0;
      width: 90%;
      box-sizing: border-box;
    }
    header {
      text-align: center;
      padding: 1.5rem 0 1rem 0;
      background: #4a4e69cc;
      color: #fff;
      letter-spacing: 2px;
      border-radius: 0 0 18px 18px;
      margin-bottom: 2rem;
    }
    h2 {
      color: #4a4e69;
      border-left: 6px solid #c9ada7;
      padding-left: 0.7em;
      margin-top:2em;
    }
    .profile-img {
      width: 120px; height: 120px; border-radius: 50%; border: 4px solid #c9ada7; object-fit: cover; margin-bottom: 1em; display: block; margin-left: auto; margin-right: auto;
    }
    .gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 1rem; margin-top: 1em;}
    .gallery img { width: 100%; border-radius: 14px; box-shadow: 0 2px 10px #4a4e6933; transition: transform 0.2s; object-fit: cover; height: 110px;}
    .gallery img:hover { transform: scale(1.07);}
    .about-list { list-style: disc inside; margin-left: 1em;}
    .dream-table { width: 100%; border-collapse: collapse; margin: 1em 0;}
    .dream-table th, .dream-table td { border: 1px solid #c9ada7; padding: 0.7em; text-align: center;}
    .dream-table th { background: #c9ada7; color: #fff;}
    .footer { text-align: center; color: #4a4e69; background: #f2e9e4; margin-top: 2em; padding: 1.5em 0 0.3em 0; font-size: 0.95em; border-top: 1px solid #c9ada7;}
    .video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 14px; margin-top: 1em; box-shadow: 0 2px 12px #22223b33;}
    .video-container iframe { position: absolute; top:0; left: 0; width: 100%; height: 100%; border: none; border-radius: 14px;}
    ::-webkit-scrollbar {width:9px;}
    ::-webkit-scrollbar-thumb {background:#c9ada7;border-radius:7px;}
    ::-webkit-scrollbar-track {background:transparent;}
    @media (max-width: 1200px) {
      .toolsbar, .toolsbar-row .toolsbar {width: 180px; min-width:100px; font-size:0.95em;}
      .main-content {padding:2.2rem 1vw;}
      .sidebar {width:170px;}
      .sidebar nav a {width: 92%;}
      .align-bar {padding-left: 170px;}
      .fluid-container.with-sidebar {margin-left: 170px;}
      .toggle-btn { left: 182px; }
    }
    @media (max-width: 1000px) {
      .sidebar {display:none;}
      .fluid-container {margin-left:0;}
      .align-bar, .fluid-container {padding-left:0;}
      .toggle-btn {left:10px;}
      .toolsbar, .toolsbar-row .toolsbar {width: 98vw; min-width: 80vw; max-width: 99vw; padding:1em 2vw;}
      .toolsbar-row {gap: 2vw;}
    }
    @media (max-width: 900px) {
      .fluid-container {flex-direction: column !important;}
      .main-wrap-align {flex-direction: column !important;}
      .toolsbar, .toolsbar-row, .toolsbar-row .toolsbar {width: 96vw; max-width: 99vw; height: auto; flex-direction: row; flex-wrap: nowrap; overflow-x: auto; overflow-y: visible; padding: 0.4em 1vw; margin: 1.2vw auto;}
      .toolsbar .tool-card, .toolsbar-row .toolsbar .tool-card {min-width:158px; max-width:220px; margin:0 0.5em;}
      .main-content {margin:0 auto;}
      .sidebar {display:none;}
      .align-bar {padding-left:0;}
    }
    @media (max-width: 600px) {
      .main-content {padding:1em 0.5em;}
      .toolsbar .tool-card, .toolsbar-row .toolsbar .tool-card {min-width:130px; font-size:0.91em;}
      h2 {font-size: 1.1em;}
      header {padding:0.8em 0 0.7em 0;}
    }
  </style>
</head>
<body>
  <!-- èªè¨€åˆ‡æ›ï¼Œç§»å‹•åˆ°åº•éƒ¨å³ä¸‹è§’ -->
  <button class="lang-switcher" id="langSwitcher" title="Switch Language">EN</button>
  <!-- å´é‚Šç›®éŒ„ -->
  <div class="sidebar" id="sidebar">
    <h2 data-i18n="menu">ç¶²ç«™ç›®éŒ„</h2>
    <nav>
      <a href="#about" id="nav-about" data-i18n="about">é—œæ–¼æˆ‘</a>
      <a href="#gallery" id="nav-gallery" data-i18n="gallery">å¤¢å‘ç•«å»Š</a>
      <a href="#dreams" id="nav-dreams" data-i18n="dreams">å¤¢å‘è¨˜éŒ„</a>
      <a href="#fav" id="nav-fav" data-i18n="fav">æ¨ã—æ”¶è—</a>
      <a href="#contact" id="nav-contact" data-i18n="contact">è¯çµ¡æˆ‘</a>
      <a href="#top" id="nav-top">â‡§ å›åˆ°é ‚éƒ¨</a>
    </nav>
  </div>
  <button class="toggle-btn" id="toggleBtn" title="æ”¶åˆ/å±•é–‹ç›®éŒ„">
    <svg class="arrow expanded" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
  </button>
  <div class="align-bar" id="alignBar">
    <button id="leftBtn" title="é å·¦å°é½Š" data-i18n="left">å·¦å°é½Š</button>
    <button id="centerBtn" class="active" title="ç½®ä¸­å°é½Š" data-i18n="center">ç½®ä¸­</button>
    <button id="rightBtn" title="é å³å°é½Š" data-i18n="right">å³å°é½Š</button>
  </div>
  <div class="fluid-container with-sidebar" id="fluidContainer">
    <div class="main-wrap-align center" id="mainWrapAlign">
      <!-- å·¦å´å°å·¥å…· -->
      <div class="toolsbar" id="leftTools">
        <div class="tool-card" id="toolQuote">
          <h3 data-i18n="quote_title">å¤¢å‘èªéŒ„</h3>
          <div id="quoteArea" data-i18n-quote>ã€Œå¤¢æ˜¯èˆ‡æ¨å…±åº¦çš„å°ˆå±¬æ™‚å…‰ã€‚ã€</div>
        </div>
        <div class="tool-card">
          <h3 data-i18n="fortune_title">ä»Šæ—¥å åœ</h3>
          <button class="mini-btn" onclick="drawFortune()" data-i18n="draw">æŠ½ä¸€ç±¤</button>
          <div id="fortuneResult" style="margin-top:0.6em;color:#9a8c98;font-weight:bold;"></div>
        </div>
        <div class="tool-card">
          <h3 data-i18n="timer_title">å°ˆæ³¨è¨ˆæ™‚</h3>
          <div>
            <input id="timerInput" type="number" min="1" max="180" value="5" style="width:55px;text-align:right;">
            <span data-i18n="minute">åˆ†</span>
            <button class="mini-btn" onclick="startTimer()" data-i18n="start">é–‹å§‹</button>
          </div>
          <div id="timerShow" style="margin-top:0.4em; font-size:1.15em;color:#4a4e69;font-weight:bold;">00:00</div>
        </div>
      </div>
      <!-- ä¸»å…§å®¹ -->
      <div class="main-content" id="mainContent">
        <header>
          <h1 data-i18n="main_title">é‡Œç¶­å¤¢å¥³ã®å¤¢å‘å°ˆå±¬ç©ºé–“</h1>
          <div data-i18n="main_desc">æ­¡è¿ä¾†åˆ°æˆ‘çš„å¤¢å‘ä¸–ç•Œï¼é€™è£¡ç´€éŒ„æˆ‘çš„å¤¢å¥³æ•…äº‹ã€å¯«ä½œã€ç¹ªåœ–ã€å¿ƒæƒ…èˆ‡æ¨ã—çš„ç¾å¥½æ™‚å…‰ã€‚</div>
        </header>
        <section id="about">
          <h2 data-i18n="about">é—œæ–¼æˆ‘</h2>
          <img src="https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=facearea&w=256&q=80" class="profile-img" alt="æˆ‘çš„é ­åƒ">
          <ul class="about-list" id="aboutList">
            <li data-i18n="nick">æš±ç¨±ï¼šSAYA</li>
            <li data-i18n="oshi">æ¨ã—ï¼šé‡Œç¶­ï¼ˆé€²æ“Šçš„å·¨äººï¼‰</li>
            <li data-i18n="hobby">èˆˆè¶£ï¼šç¹ªç•«ã€å¯«ä½œã€äºŒå‰µã€å¤¢å¥³è…¦è£œã€æ”¶é›†æ¨åœ–</li>
            <li data-i18n="slogan">ã€Œå¤¢ã€æ˜¯æˆ‘èˆ‡æ¨ã—ä¹‹é–“æœ€å¹¸ç¦çš„å°å®‡å®™ ğŸ’•</li>
            <li data-i18n="warn">ç¶²ç«™å…§å®¹å¤§å¤šç‚ºè‡ªæˆ‘å‰µä½œèˆ‡è…¦å…§è£œå®Œï¼Œè«‹å‹¿è½‰è¼‰ï½</li>
          </ul>
        </section>
        <section id="gallery">
          <h2 data-i18n="gallery">å¤¢å‘ç•«å»Š</h2>
          <div class="gallery">
            <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80" alt="å¤¢åƒç•«1">
            <img src="https://images.unsplash.com/photo-1465101178521-c1a9136a3fd8?auto=format&fit=crop&w=400&q=80" alt="å¤¢åƒç•«2">
            <img src="https://images.unsplash.com/photo-1470770841072-f978cf4d019e?auto=format&fit=crop&w=400&q=80" alt="å¤¢åƒç•«3">
            <img src="https://images.unsplash.com/photo-1519985176271-adb1088fa94c?auto=format&fit=crop&w=400&q=80" alt="å¤¢åƒç•«4">
          </div>
          <div style="margin-top:1em; text-align:center; font-size:0.95em; color:#9a8c98;" data-i18n="gallery_warn">* åœ–ç‰‡ç‚ºç¤ºæ„ï¼Œæœªä¾†å¯è‡ªè¡Œæ›æˆè‡ªå·±çš„å‰µä½œæˆ–æ”¶è— *</div>
        </section>
        <section id="dreams">
          <h2 data-i18n="dreams">å¤¢å‘è¨˜éŒ„</h2>
          <table class="dream-table" id="dreamTable">
            <thead>
              <tr>
                <th data-i18n="dream_title">æ¨™é¡Œ</th>
                <th data-i18n="dream_date">æ—¥æœŸ</th>
                <th data-i18n="dream_mood">å¿ƒæƒ…</th>
                <th data-i18n="dream_summary">å…§å®¹ç°¡è¿°</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td data-i18n="dream1_title">åˆé‡é‡Œç¶­</td>
                <td>2023-07-15</td>
                <td>ğŸ¥°</td>
                <td data-i18n="dream1_desc">åœ¨å¤¢ä¸­å·§é‡é‡Œç¶­éšŠé•·ï¼Œæ­è©±äº’å‹•ï¼Œè®“æˆ‘æ•´å¤©éƒ½å¿ƒèŠ±æ€’æ”¾ï¼</td>
              </tr>
              <tr>
                <td data-i18n="dream2_title">å¤¢è£¡ç´„æœƒ</td>
                <td>2024-02-11</td>
                <td>ğŸ’–</td>
                <td data-i18n="dream2_desc">å’Œæ¨ã—ä¸€èµ·é€›è¡—ã€åƒç”œé»ï¼Œè¢«ç´°å¿ƒæº«æŸ”çš„èˆ‰å‹•èåŒ–ã€‚</td>
              </tr>
              <tr>
                <td data-i18n="dream3_title">ä¸¦è‚©ä½œæˆ°</td>
                <td>2024-06-30</td>
                <td>ğŸ”¥</td>
                <td data-i18n="dream3_desc">èˆ‡é‡Œç¶­å…±åŒå°æŠ—å·¨äººï¼Œæ„Ÿå—åˆ°ä¿¡ä»»èˆ‡å®ˆè­·çš„åŠ›é‡ï¼</td>
              </tr>
            </tbody>
          </table>
          <div style="font-size:0.95em; color:#4a4e69;" data-i18n="dreams_hint">* å¯è‡ªè¡Œæ–°å¢å¤¢å¥³è¨˜äº‹ï¼Œè¨˜éŒ„æ¯æ®µèˆ‡æ¨ã—çš„ç”œèœœå›æ†¶ *</div>
        </section>
        <section id="fav">
          <h2 data-i18n="fav">æ¨ã—æ”¶è—</h2>
          <div class="gallery">
            <img src="https://i.imgur.com/6XGQ8t4.jpg" alt="æ¨åœ–1">
            <img src="https://i.imgur.com/LNw2c0V.jpg" alt="æ¨åœ–2">
            <img src="https://i.imgur.com/6jZV3S2.jpg" alt="æ¨åœ–3">
            <img src="https://i.imgur.com/8Km9tLL.jpg" alt="æ¨åœ–4">
          </div>
          <div class="video-container">
            <iframe src="https://www.youtube.com/embed/1HzT7VcsG9Q" title="é‡Œç¶­ AMV" allowfullscreen></iframe>
          </div>
          <div style="font-size:0.93em; color:#9a8c98; text-align:center; margin-top:0.8em;" data-i18n="fav_hint">
            * æ”¶è—æ¨åœ–ã€å½±ç‰‡å¯éš¨å¿ƒæ›´æ›ï¼Œé€™è£¡åªæ˜¯ç¤ºæ„ *
          </div>
        </section>
        <section id="contact">
          <h2 data-i18n="contact">è¯çµ¡æˆ‘</h2>
          <div style="text-align:center; margin-bottom:1em;">
            <p data-i18n="contact_p1">å¦‚æœæƒ³äº¤æµå¤¢å‘å¿ƒå¾—ã€ç¹ªåœ–æ–‡æˆ–åˆä½œï¼Œæ­¡è¿å¯«ä¿¡æˆ–åœ¨ç¤¾ç¾¤ç•™è¨€ï¼</p>
            <p>
              âœ‰ï¸ Emailï¼š<a href="mailto:yourmail@example.com">yourmail@example.com</a><br>
              ğŸ’¬ IGï¼š<a href="https://instagram.com/" target="_blank">@your_ig</a> <br>
              ğŸ“ Plurkï¼š<a href="https://www.plurk.com/" target="_blank">@your_plurk</a>
            </p>
            <p style="color:#9a8c98;font-size:0.93em;" data-i18n="contact_hint">* ä»¥ä¸Šè³‡è¨Šè«‹è‡ªè¡Œç·¨è¼¯æˆä½ çš„è¯çµ¡æ–¹å¼ *</p>
          </div>
        </section>
        <div class="footer" data-i18n="footer">
          &copy; 2025 SAYA | å¤¢å¥³å‘å€‹äººç¶²ç«™<br>
          æœ¬é é¢åƒ…ä¾›å¤¢å¥³åŒå¥½è‡ªå‰µã€è¨˜éŒ„ä½¿ç”¨ï¼Œç¶²ç«™å…§å®¹å¦‚æœ‰ä¾µæ¬Šè«‹ä¾†ä¿¡å‘ŠçŸ¥ã€‚
        </div>
      </div>
      <!-- å³å´å°å·¥å…· -->
      <div class="toolsbar" id="rightTools">
        <div class="tool-card">
          <h3 data-i18n="card_title">å¤¢å¥³æŠ½å¡</h3>
          <button class="mini-btn" onclick="drawCard()" data-i18n="draw_card">æŠ½ä¸€å¼µ</button>
          <div id="cardResult" style="margin-top:0.6em;text-align:center;font-weight:bold;color:#4a4e69;"></div>
        </div>
        <div class="tool-card">
          <h3 data-i18n="calendar_title">ç°¡æ˜“æ—¥æ›†</h3>
          <div id="calendarArea" style="text-align:center;"></div>
        </div>
        <div class="tool-card">
          <h3 data-i18n="sign_title">æ¯æ—¥æ‰“å¡</h3>
          <button class="mini-btn" onclick="dailySign()" data-i18n="sign">æ‰“å¡ï¼</button>
          <div id="signStatus" style="margin-top:0.4em;font-size:1em;color:#9a8c98;font-weight:bold;"></div>
        </div>
      </div>
    </div>
  </div>
  <script>
    // å´é‚Šæ¬„æ”¶åˆåŠŸèƒ½
    const sidebar = document.getElementById('sidebar');
    const toggleBtn = document.getElementById('toggleBtn');
    const arrow = toggleBtn.querySelector('.arrow');
    const fluidContainer = document.getElementById('fluidContainer');
    const alignBar = document.getElementById('alignBar');
    function setSidebarState(collapsed) {
      if(collapsed) {
        sidebar.classList.add('collapsed');
        fluidContainer.classList.remove('with-sidebar');
        fluidContainer.classList.add('no-sidebar');
        alignBar.classList.add('no-sidebar');
        arrow.classList.remove('expanded');
        arrow.classList.add('collapsed');
      } else {
        sidebar.classList.remove('collapsed');
        fluidContainer.classList.add('with-sidebar');
        fluidContainer.classList.remove('no-sidebar');
        alignBar.classList.remove('no-sidebar');
        arrow.classList.remove('collapsed');
        arrow.classList.add('expanded');
      }
    }
    toggleBtn.addEventListener('click', () => {
      setSidebarState(!sidebar.classList.contains('collapsed'));
    });
    if(window.innerWidth < 1000) setSidebarState(true);

    // ç›®éŒ„é«˜äº®
    function highlightNav() {
      const sections = ['about','gallery','dreams','fav','contact'];
      let scrollPos = window.scrollY || window.pageYOffset;
      let found = false;
      for(let i=sections.length-1;i>=0;i--){
        let section = document.getElementById(sections[i]);
        if(section && section.offsetTop-90 <= scrollPos){
          document.querySelectorAll('.sidebar nav a').forEach(a=>a.classList.remove('active'));
          let nav = document.getElementById('nav-'+sections[i]);
          if(nav) nav.classList.add('active');
          found = true; break;
        }
      }
      if(!found){
        document.querySelectorAll('.sidebar nav a').forEach(a=>a.classList.remove('active'));
      }
    }
    window.addEventListener('scroll', highlightNav);
    window.addEventListener('DOMContentLoaded', highlightNav);
    window.addEventListener('resize', ()=>{
      if(window.innerWidth<1000) setSidebarState(true);
      else setSidebarState(false);
    });

    // èªéŒ„éš¨æ©Ÿ
    const quotes = [
      "ã€Œå¤¢æ˜¯èˆ‡æ¨å…±åº¦çš„å°ˆå±¬æ™‚å…‰ã€‚ã€",
      "ã€Œå’Œæ¨å­çš„æ¯ä¸€å€‹å¹³è¡Œä¸–ç•Œï¼Œéƒ½å€¼å¾—ç´°ç´°æ”¶è—ã€‚ã€",
      "ã€Œå¤¢è£¡è¦‹ï¼Œç¾å¯¦è£¡ä¹Ÿè¦å¹¸ç¦ã€‚ã€",
      "ã€Œæ¨æ˜¯æˆ‘çš„å®‡å®™ä¸­å¿ƒã€‚ã€",
      "ã€Œå¤¢å¥³è…¦å…§åŠ‡å ´æ°¸é ä¸æœƒåœæ’­ï¼ã€",
      "ã€Œå› ç‚ºæœ‰ä½ ï¼Œå¤¢æ‰é€™éº¼ç¾å¥½ã€‚ã€"
    ];
    const quotes_en = [
      "â€œA dream is exclusive time spent with my beloved.â€",
      "â€œEvery parallel world with my oshimen is worth treasuring.â€",
      "â€œSee you in dreams, wishing you happiness in reality too.â€",
      "â€œMy oshimen is the center of my universe.â€",
      "â€œThe dream-girl's brain theater never stops!â€",
      "â€œBecause of you, dreams are so beautiful.â€"
    ];
    function setRandomQuote(){
      const lang = getLang();
      const arr = lang==="en"?quotes_en:quotes;
      document.getElementById('quoteArea').textContent = arr[Math.floor(Math.random()*arr.length)];
    }
    setRandomQuote();
    setInterval(setRandomQuote, 7000);

    // ä»Šæ—¥å åœ
    const fortunes = [
      "å¤§å‰ï¼šæ¨æœƒåœ¨å¤¢è£¡ç­‰ä½ ï¼",
      "ä¸­å‰ï¼šæ¨å­æœƒæœ‰é©šå–œèˆ‰å‹•ï¼",
      "å°å‰ï¼šä»Šå¤©é©åˆç™¼å¤¢å‘æ–‡ï¼",
      "æœ«å‰ï¼šå¶çˆ¾ä¹Ÿè¦å¤šé—œå¿ƒè‡ªå·±ã€‚",
      "å¹³ï¼šæ¨åœ¨é æ–¹é»˜é»˜å®ˆè­·ï½",
      "å‡¶ï¼šæ¨å­å·æ‡¶ä¸­â€¦å¤šæ„›è‡ªå·±ä¸€é»ï¼"
    ];
    const fortunes_en = [
      "Super Lucky: Your oshimen will wait for you in your dream!",
      "Lucky: Your oshimen will do something surprising!",
      "A Little Luck: Today is great for posting dream stories!",
      "Slight Luck: Remember to care for yourself sometimes.",
      "Average: Your oshimen is watching over you from afar~",
      "Unlucky: Your oshimen is slackingâ€¦ love yourself more!"
    ];
    function drawFortune() {
      const lang = getLang();
      const arr = lang==="en"?fortunes_en:fortunes;
      const idx = Math.floor(Math.random()*arr.length);
      document.getElementById('fortuneResult').textContent = arr[idx];
    }

    // è¨ˆæ™‚å™¨
    let timer = null, timerCount = 0;
    function startTimer() {
      if(timer) clearInterval(timer);
      let min = parseInt(document.getElementById('timerInput').value)||1;
      timerCount = min*60;
      showTimer();
      timer = setInterval(()=>{
        timerCount--;
        showTimer();
        if(timerCount<=0) {
          clearInterval(timer);
          document.getElementById('timerShow').textContent = getLang()==="en" ? "Done!" : "å®Œæˆï¼";
          alert(getLang()==="en" ? "Time's up!" : "æ™‚é–“åˆ°ï¼");
        }
      },1000);
    }
    function showTimer(){
      let m = Math.floor(timerCount/60);
      let s = timerCount%60;
      document.getElementById('timerShow').textContent = (m<10?"0":"")+m+":"+(s<10?"0":"")+s;
    }

    // å¤¢å¥³æŠ½å¡
    const cards = [
      {name:"SSR å¤¢ä¹‹é‚‚é€…", desc:"ä»Šæ™šæ¨æœƒå…¥å¤¢å“¦ï½", emoji:"âœ¨"},
      {name:"SR ç”œèœœç´„æœƒ", desc:"å’Œæ¨ä¸€èµ·åƒç”œé»ï¼", emoji:"ğŸ°"},
      {name:"SR ä¸¦è‚©ä½œæˆ°", desc:"æ¨æœƒä¿è­·ä½ ï¼", emoji:"ğŸ—¡ï¸"},
      {name:"R é¼“å‹µä¿¡", desc:"æ¨å·å·å¯«ä¿¡çµ¦ä½ ", emoji:"ğŸ’Œ"},
      {name:"R å‹æƒ…ä¹‹å…‰", desc:"æœ‰æœ‹å‹é™ªä¼´ä¹Ÿæ˜¯å¹¸ç¦", emoji:"ğŸŒˆ"},
      {name:"N å¾®ç¬‘æ‰“æ°£", desc:"æ¨å‘ä½ å¾®ç¬‘ï½", emoji:"ğŸ˜Š"},
    ];
    const cards_en = [
      {name:"SSR Dream Encounter", desc:"Tonight your oshimen will appear in your dream~", emoji:"âœ¨"},
      {name:"SR Sweet Date", desc:"Enjoying desserts with your oshimen!", emoji:"ğŸ°"},
      {name:"SR Fighting Together", desc:"Your oshimen will protect you!", emoji:"ğŸ—¡ï¸"},
      {name:"R Encouragement Letter", desc:"Your oshimen secretly writes you a letter", emoji:"ğŸ’Œ"},
      {name:"R Light of Friendship", desc:"It's a blessing to have friends' support", emoji:"ğŸŒˆ"},
      {name:"N Cheerful Smile", desc:"Your oshimen smiles at you~", emoji:"ğŸ˜Š"},
    ];
    function drawCard() {
      const lang = getLang();
      let arr = lang==="en"?cards_en:cards;
      let idx = Math.floor(Math.random()*arr.length);
      let card = arr[idx];
      document.getElementById('cardResult').innerHTML = card.emoji+" <b>"+card.name+"</b><br><small>"+card.desc+"</small>";
    }

    // å°æ—¥æ›†
    function makeCalendar(){
      let d = new Date(), y = d.getFullYear(), m = d.getMonth();
      let first = new Date(y, m, 1).getDay(), days = new Date(y, m+1, 0).getDate();
      let lang = getLang();
      let week = lang==="en"
        ? ["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]
        : ["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"];
      let html = "<table><tr>";
      for(let i=0;i<7;i++) html += "<th>"+week[i]+"</th>";
      html += "</tr><tr>";
      let cnt = 0;
      for(let i=0;i<first;i++){ html+="<td></td>"; cnt++; }
      for(let d1=1;d1<=days;d1++){
        let isToday = d1===d.getDate();
        html += '<td'+(isToday?' class="today"':'')+'>'+d1+'</td>';
        cnt++;
        if(cnt%7===0 && d1!==days) html+="</tr><tr>";
      }
      for(let i=cnt%7;i<7 && i!==0;i++){ html+="<td></td>"; }
      html+="</tr></table>";
      document.getElementById('calendarArea').innerHTML=html;
    }
    makeCalendar();

    // æ¯æ—¥æ‰“å¡
    function dailySign(){
      let d = new Date(), key = "dreamsign-"+d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate();
      localStorage.setItem(key, "1");
      showSignStatus();
    }
    function showSignStatus(){
      let d = new Date(), key = "dreamsign-"+d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate();
      let lang = getLang();
      if(localStorage.getItem(key))
        document.getElementById('signStatus').textContent = lang==="en"
          ? "Checked in! Your oshimen gives you a thumbs up ğŸ‘"
          : "å·²æ‰“å¡ï¼æ¨å­çµ¦ä½ ä¸€å€‹è®šğŸ‘";
      else
        document.getElementById('signStatus').textContent = lang==="en"
          ? "Not checked in today yet!"
          : "ä»Šæ—¥å°šæœªæ‰“å¡ï¼";
    }
    showSignStatus();

    // åˆä½µä¸¦æ’ä¸»é‚è¼¯
    const leftTools = document.getElementById('leftTools');
    const rightTools = document.getElementById('rightTools');
    const mainWrapAlign = document.getElementById('mainWrapAlign');
    const mainContent = document.getElementById('mainContent');
    const leftBtn   = document.getElementById('leftBtn');
    const centerBtn = document.getElementById('centerBtn');
    const rightBtn  = document.getElementById('rightBtn');

    let toolsbarRow = null;

    function setAlign(align) {
      mainWrapAlign.classList.remove('left','center','right');
      leftBtn.classList.remove('active');
      centerBtn.classList.remove('active');
      rightBtn.classList.remove('active');

      // ç§»é™¤åˆä½µå®¹å™¨ï¼Œé‚„åŸé †åº
      if(toolsbarRow) {
        if(toolsbarRow.contains(leftTools)) mainWrapAlign.appendChild(leftTools);
        if(toolsbarRow.contains(rightTools)) mainWrapAlign.appendChild(rightTools);
        mainWrapAlign.removeChild(toolsbarRow);
        toolsbarRow = null;
      }
      // ç¢ºä¿ç½®ä¸­æ™‚é †åºæ­£ç¢ºï¼šleftTools, mainContent, rightTools
      if(mainWrapAlign.children[0] !== leftTools) mainWrapAlign.insertBefore(leftTools, mainWrapAlign.firstChild);
      if(mainWrapAlign.children[1] !== mainContent) mainWrapAlign.insertBefore(mainContent, leftTools.nextSibling);
      if(mainWrapAlign.children[2] !== rightTools) mainWrapAlign.insertBefore(rightTools, mainContent.nextSibling);

      leftTools.classList.remove('hide');
      rightTools.classList.remove('hide');
      leftTools.classList.remove('toolsbar-row');
      rightTools.classList.remove('toolsbar-row');

      if(align === 'center'){
        mainWrapAlign.classList.add('center');
        centerBtn.classList.add('active');
        leftTools.classList.remove('hide');
        rightTools.classList.remove('hide');
      }
      else if(align === 'left'){
        mainWrapAlign.classList.add('left');
        leftBtn.classList.add('active');
        leftTools.classList.remove('hide');
        rightTools.classList.remove('hide');
        toolsbarRow = document.createElement('div');
        toolsbarRow.className = 'toolsbar-row';
        toolsbarRow.appendChild(rightTools);
        toolsbarRow.appendChild(leftTools);
        mainWrapAlign.appendChild(toolsbarRow);
      }
      else if(align === 'right'){
        mainWrapAlign.classList.add('right');
        rightBtn.classList.add('active');
        leftTools.classList.remove('hide');
        rightTools.classList.remove('hide');
        toolsbarRow = document.createElement('div');
        toolsbarRow.className = 'toolsbar-row';
        toolsbarRow.appendChild(leftTools);
        toolsbarRow.appendChild(rightTools);
        mainWrapAlign.insertBefore(toolsbarRow, mainContent);
      }
    }
    leftBtn.addEventListener('click', ()=>setAlign('left'));
    centerBtn.addEventListener('click', ()=>setAlign('center'));
    rightBtn.addEventListener('click', ()=>setAlign('right'));
    setAlign('center');

    // ====== èªè¨€åˆ‡æ›ç³»çµ± ======
    // å¤šèªè©å…¸
    const i18n = {
      "zh": {
        menu: "ç¶²ç«™ç›®éŒ„",
        about: "é—œæ–¼æˆ‘",
        gallery: "å¤¢å‘ç•«å»Š",
        dreams: "å¤¢å‘è¨˜éŒ„",
        fav: "æ¨ã—æ”¶è—",
        contact: "è¯çµ¡æˆ‘",
        left: "å·¦å°é½Š",
        center: "ç½®ä¸­",
        right: "å³å°é½Š",
        quote_title: "å¤¢å‘èªéŒ„",
        fortune_title: "ä»Šæ—¥å åœ",
        timer_title: "å°ˆæ³¨è¨ˆæ™‚",
        minute: "åˆ†",
        start: "é–‹å§‹",
        draw: "æŠ½ä¸€ç±¤",
        main_title: "é‡Œç¶­å¤¢å¥³ã®å¤¢å‘å°ˆå±¬ç©ºé–“",
        main_desc: "æ­¡è¿ä¾†åˆ°æˆ‘çš„å¤¢å‘ä¸–ç•Œï¼é€™è£¡ç´€éŒ„æˆ‘çš„å¤¢å¥³æ•…äº‹ã€å¯«ä½œã€ç¹ªåœ–ã€å¿ƒæƒ…èˆ‡æ¨ã—çš„ç¾å¥½æ™‚å…‰ã€‚",
        nick: "æš±ç¨±ï¼šSAYA",
        oshi: "æ¨ã—ï¼šé‡Œç¶­ï¼ˆé€²æ“Šçš„å·¨äººï¼‰",
        hobby: "èˆˆè¶£ï¼šç¹ªç•«ã€å¯«ä½œã€äºŒå‰µã€å¤¢å¥³è…¦è£œã€æ”¶é›†æ¨åœ–",
        slogan: "ã€Œå¤¢ã€æ˜¯æˆ‘èˆ‡æ¨ã—ä¹‹é–“æœ€å¹¸ç¦çš„å°å®‡å®™ ğŸ’•",
        warn: "ç¶²ç«™å…§å®¹å¤§å¤šç‚ºè‡ªæˆ‘å‰µä½œèˆ‡è…¦å…§è£œå®Œï¼Œè«‹å‹¿è½‰è¼‰ï½",
        gallery_warn: "* åœ–ç‰‡ç‚ºç¤ºæ„ï¼Œæœªä¾†å¯è‡ªè¡Œæ›æˆè‡ªå·±çš„å‰µä½œæˆ–æ”¶è— *",
        dream_title: "æ¨™é¡Œ",
        dream_date: "æ—¥æœŸ",
        dream_mood: "å¿ƒæƒ…",
        dream_summary: "å…§å®¹ç°¡è¿°",
        dream1_title: "åˆé‡é‡Œç¶­",
        dream1_desc: "åœ¨å¤¢ä¸­å·§é‡é‡Œç¶­éšŠé•·ï¼Œæ­è©±äº’å‹•ï¼Œè®“æˆ‘æ•´å¤©éƒ½å¿ƒèŠ±æ€’æ”¾ï¼",
        dream2_title: "å¤¢è£¡ç´„æœƒ",
        dream2_desc: "å’Œæ¨ã—ä¸€èµ·é€›è¡—ã€åƒç”œé»ï¼Œè¢«ç´°å¿ƒæº«æŸ”çš„èˆ‰å‹•èåŒ–ã€‚",
        dream3_title: "ä¸¦è‚©ä½œæˆ°",
        dream3_desc: "èˆ‡é‡Œç¶­å…±åŒå°æŠ—å·¨äººï¼Œæ„Ÿå—åˆ°ä¿¡ä»»èˆ‡å®ˆè­·çš„åŠ›é‡ï¼",
        dreams_hint: "* å¯è‡ªè¡Œæ–°å¢å¤¢å¥³è¨˜äº‹ï¼Œè¨˜éŒ„æ¯æ®µèˆ‡æ¨ã—çš„ç”œèœœå›æ†¶ *",
        fav_hint: "* æ”¶è—æ¨åœ–ã€å½±ç‰‡å¯éš¨å¿ƒæ›´æ›ï¼Œé€™è£¡åªæ˜¯ç¤ºæ„ *",
        contact_p1: "å¦‚æœæƒ³äº¤æµå¤¢å‘å¿ƒå¾—ã€ç¹ªåœ–æ–‡æˆ–åˆä½œï¼Œæ­¡è¿å¯«ä¿¡æˆ–åœ¨ç¤¾ç¾¤ç•™è¨€ï¼",
        contact_hint: "* ä»¥ä¸Šè³‡è¨Šè«‹è‡ªè¡Œç·¨è¼¯æˆä½ çš„è¯çµ¡æ–¹å¼ *",
        footer: "&copy; 2025 SAYA | å¤¢å¥³å‘å€‹äººç¶²ç«™<br>æœ¬é é¢åƒ…ä¾›å¤¢å¥³åŒå¥½è‡ªå‰µã€è¨˜éŒ„ä½¿ç”¨ï¼Œç¶²ç«™å…§å®¹å¦‚æœ‰ä¾µæ¬Šè«‹ä¾†ä¿¡å‘ŠçŸ¥ã€‚",
        card_title: "å¤¢å¥³æŠ½å¡",
        draw_card: "æŠ½ä¸€å¼µ",
        calendar_title: "ç°¡æ˜“æ—¥æ›†",
        sign_title: "æ¯æ—¥æ‰“å¡",
        sign: "æ‰“å¡ï¼"
      },
      "en": {
        menu: "Menu",
        about: "About",
        gallery: "Gallery",
        dreams: "Dream Log",
        fav: "Oshi Collection",
        contact: "Contact",
        left: "Align Left",
        center: "Center",
        right: "Align Right",
        quote_title: "Dream Quotes",
        fortune_title: "Today's Fortune",
        timer_title: "Focus Timer",
        minute: "min",
        start: "Start",
        draw: "Draw",
        main_title: "Levi Dream Girl's Dream Space",
        main_desc: "Welcome to my dream world! Here I record my stories, writings, art, feelings, and precious time with my oshi.",
        nick: "Nick: SAYA",
        oshi: "Oshi: Levi (Attack on Titan)",
        hobby: "Hobbies: Drawing, writing, fanworks, daydreaming, collecting oshi pics",
        slogan: "\"Dream\" is my happiest universe with my oshi ğŸ’•",
        warn: "Most content is my own creation or interpretation, please do not repostï½",
        gallery_warn: "* Example images, you can replace with your own art/collection *",
        dream_title: "Title",
        dream_date: "Date",
        dream_mood: "Mood",
        dream_summary: "Summary",
        dream1_title: "First Meeting with Levi",
        dream1_desc: "Met Captain Levi in my dream, chatted and interacted, made my day so sweet!",
        dream2_title: "Dream Date",
        dream2_desc: "Went shopping and ate desserts with my oshi. Melted by those gentle acts.",
        dream3_title: "Fighting Together",
        dream3_desc: "Fought titans with Levi, felt trust and protection!",
        dreams_hint: "* You can add your own dream notes, record every sweet memory with your oshi *",
        fav_hint: "* Collection images/videos can be changed freely, just samples here *",
        contact_p1: "Want to chat about dreams, drawings, or collab? Email or DM me!",
        contact_hint: "* Please edit the above to your own contact info *",
        footer: "&copy; 2025 SAYA | Dream Girl Website<br>This page is for dream-girl self-creation & records only. If any content infringes, please contact me.",
        card_title: "Dream Girl Gacha",
        draw_card: "Draw",
        calendar_title: "Mini Calendar",
        sign_title: "Daily Check-in",
        sign: "Check In!"
      }
    };
    function getLang() {
      return localStorage.getItem("lang") || "zh";
    }
    function setLang(lang) {
      localStorage.setItem("lang", lang);
    }
    function applyLang() {
      const lang = getLang();
      // Sidebar and buttons
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        if(i18n[lang][key]) {
          if(el.tagName==="INPUT" && el.type==="button") el.value = i18n[lang][key];
          else el.innerHTML = i18n[lang][key];
        }
      });
      // Special: quote
      setRandomQuote();
      makeCalendar();
      showSignStatus();
      // Footer
      if(document.querySelector(".footer")) document.querySelector(".footer").innerHTML = i18n[lang].footer;
      // èª¿æ•´èªè¨€åˆ‡æ›æŒ‰éˆ•
      document.getElementById('langSwitcher').innerText = lang==="zh"?"EN":"ä¸­æ–‡";
    }
    document.getElementById('langSwitcher').addEventListener('click', function(){
      const cur = getLang();
      const next = cur==="zh"?"en":"zh";
      setLang(next);
      applyLang();
    });
    applyLang();
  </script>
</body>
</html>
